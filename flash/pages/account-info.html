<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">USDT-FLASH - Account Information</title>
    <link rel="icon" type="image/png" href="../img/usdt_cryptocurrencies_icon_188337.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/flash.css">
    <link rel="stylesheet" href="../css/chat.css">
    <link rel="stylesheet" href="../css/hide-footer-except-home.css">
    <link rel="stylesheet" href="../css/remove-footer-styles.css">
    <script src="../js/auth.js"></script>
    <style>
        /* Chat Container Styles */
        #chatbox-container {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
        
        /* Chat Messages */
        #chatbox {
            padding: 15px;
            background-color: #f5f7fa;
            overflow-y: auto;
        }
        
        .message-wrapper {
            margin-bottom: 15px;
            max-width: 90%;
            clear: both;
        }
        
        .user-message-wrapper {
            float: right;
            margin-right: 10%;
        }
        
        .assistant-message-wrapper {
            float: left;
            margin-left: 10%;
        }
        
        .message-content {
            padding: 10px 15px;
            border-radius: 18px;
            line-height: 1.5;
            position: relative;
            word-wrap: break-word;
            word-break: break-word;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            max-width: 100%;
            text-align: left;
        }
        
        .user-message {
            background: linear-gradient(135deg, #4CAF50, #43A047);
            color: white;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 18px;
            margin-left: 0;
            text-align: left;
            float: right;
        }
        
        .assistant-message {
            background: white;
            color: #333;
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
            border-bottom-left-radius: 18px;
            margin-right: 0;
            border: 1px solid #e0e0e0;
            text-align: left;
            float: left;
        }
        
        .message-time {
            font-size: 10px;
            color: #757575;
            margin-top: 4px;
            text-align: left;
            clear: both;
        }
        
        .user-message .message-time {
            color: rgba(255, 255, 255, 0.8);
            text-align: right;
        }
        
        /* Typing Indicator */
        .typing-indicator {
            background: white;
            padding: 10px 15px;
            border-radius: 18px;
            display: block;
            margin: 5px 0;
            border: 1px solid #e0e0e0;
            float: right;
            clear: both;
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9e9e9e;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        /* Input Area */
        #chatInput {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, 'Droid Sans', 'Helvetica Neue', sans-serif;
            text-align: left;
        }
        
        /* Animations */
        @keyframes slideInRight {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .user-message-wrapper {
            animation: slideInLeft 0.3s ease-out;
        }
        
        .assistant-message-wrapper {
            animation: slideInRight 0.3s ease-out;
        }
        
        /* Scrollbar */
        #chatbox::-webkit-scrollbar {
            width: 6px;
        }
        
        #chatbox::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        
        #chatbox::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        #chatbox::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Header/Navigation -->
    <header class="bg-gradient-to-r from-gray-900 to-gray-800 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="../index.html" class="flex items-center space-x-2 mb-4">
                    <img src="../img/usdt_cryptocurrencies_icon_188337.png" alt="Tether Logo" class="h-12 w-auto">
                    <div class="tether-logo-container">
                        <div class="divider"></div>
                        <div>
                            <h3 class="text-2xl font-bold">USDT-FLASH</h3>
                            <div class="flex items-center">
                                <span class="tether-badge">
                                    <i class="fas fa-check-circle text-xs"></i> Official Partner
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
                <nav class="hidden md:flex space-x-8">
                </nav>
                <div class="flex items-center space-x-4">
                    <!-- User buttons for non-registered users -->
                    <a href="login.html" class="login-button text-white hover:text-gray-300 transition">Login</a>
                    <a href="register.html" class="register-button bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition">Register</a>
                    
                    <!-- Registered user information -->
                    <div class="user-menu hidden flex items-center">
                        <div id="user-info" class="mr-4"></div>
                        <button onclick="signOut()" class="logout-button hidden bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition">
                            Logout
                        </button>
                    </div>
                </div>
                <button class="md:hidden text-white focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Account Info Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-2xl font-bold mb-6 text-center">Account Information</h2>
                    
                    <!-- Progress Steps -->
                    <div class="flex items-center justify-between mb-8">
                        <div class="flex flex-col items-center">
                            <div class="w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center">
                                <i class="fas fa-check"></i>
                            </div>
                            <span class="text-sm mt-2">Select Package</span>
                        </div>
                        <div class="h-1 flex-1 bg-green-600 mx-2"></div>
                        <div class="flex flex-col items-center">
                            <div class="w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center">
                                <i class="fas fa-check"></i>
                            </div>
                            <span class="text-sm mt-2">Payment</span>
                        </div>
                        <div class="h-1 flex-1 bg-green-600 mx-2"></div>
                        <div class="flex flex-col items-center">
                            <div class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center">
                                <span>3</span>
                            </div>
                            <span class="text-sm mt-2">Account Info</span>
                        </div>
                    </div>
                    
                    <!-- Account Form -->
                    <form id="accountForm" class="space-y-6">
                        <div>
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">Account Information</h2>
                            
                            <div class="space-y-4">
                                <!-- Full Name -->
                                <div>
                                    <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                    <input type="text" id="fullName" name="fullName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                </div>

                                <!-- Email -->
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                                    <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Enter your email address" required>
                                </div>

                                <!-- Tether Wallet Address (USDT ERC20) -->
                                <div>
                                    <label for="tetherAddress" class="block text-sm font-medium text-gray-700 mb-1">Tether Wallet Address (USDT ERC20)</label>
                                    <input type="text" id="tetherAddress" name="tetherAddress" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Enter your USDT ERC20 address" required>
                                    <p class="mt-1 text-sm text-yellow-600">Important: Make sure to enter a valid ERC20 wallet address, as USDT-FLASH will be sent to this address.</p>
                                </div>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-2">Select Platform</h3>
                            <div id="platform-options" class="flex flex-wrap gap-4 mb-4">
                                <button type="button" class="platform-btn border border-gray-300 rounded-lg px-3 py-2 flex items-center focus:outline-none focus:ring-2 focus:ring-green-500" data-value="binance">
                                    <img src="../img/Binance Web3.jpeg" alt="Binance" class="h-7 w-7 object-contain mr-2 rounded">
                                    <span class="text-gray-800 text-sm">Binance</span>
                                </button>
                                <button type="button" class="platform-btn border border-gray-300 rounded-lg px-3 py-2 flex items-center focus:outline-none focus:ring-2 focus:ring-green-500" data-value="trustwallet">
                                    <img src="../img/Trust_Wallet_2023_b-stacked.webp" alt="Trust Wallet" class="h-7 w-7 object-contain mr-2 rounded">
                                    <span class="text-gray-800 text-sm">Trust Wallet</span>
                                </button>
                                <button type="button" class="platform-btn border border-gray-300 rounded-lg px-3 py-2 flex items-center focus:outline-none focus:ring-2 focus:ring-green-500" data-value="bybit">
                                    <img src="../img/BYBIT.jpg" alt="Bybit" class="h-7 w-7 object-contain mr-2 rounded">
                                    <span class="text-gray-800 text-sm">Bybit</span>
                                </button>
                                <button type="button" class="platform-btn border border-gray-300 rounded-lg px-3 py-2 flex items-center focus:outline-none focus:ring-2 focus:ring-green-500" data-value="metamask">
                                    <img src="../img/META MASK.png" alt="MetaMask" class="h-7 w-7 object-contain mr-2 rounded">
                                    <span class="text-gray-800 text-sm">MetaMask</span>
                                </button>
                                <button type="button" class="platform-btn border border-gray-300 rounded-lg px-3 py-2 flex items-center focus:outline-none focus:ring-2 focus:ring-green-500" data-value="decentralized">
                                    <img src="../img/Web3-Wallet.png" alt="Decentralized" class="h-7 w-7 object-contain mr-2 rounded">
                                    <span class="text-gray-800 text-sm">Decentralized Platform</span>
                                </button>
                            </div>
                            <input type="hidden" id="platform" name="platform" value="binance">
                            <script>
                                // Platform selection logic
                                const btns = document.querySelectorAll('.platform-btn');
                                const platformInput = document.getElementById('platform');
                                btns.forEach(btn => {
                                    btn.addEventListener('click', function() {
                                        btns.forEach(b => b.classList.remove('ring-2', 'ring-green-500', 'bg-green-50'));
                                        btn.classList.add('ring-2', 'ring-green-500', 'bg-green-50');
                                        platformInput.value = btn.getAttribute('data-value');
                                    });
                                });
                                // Default selection
                                if (btns.length) btns[0].classList.add('ring-2', 'ring-green-500', 'bg-green-50');
                            </script>
                        </div>
                        
                        <div class="mb-6">
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input type="checkbox" id="terms" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" required>
                                </div>
                                <label for="terms" class="ml-2 block text-sm text-gray-700">
                                    I agree to the <a href="#" class="text-blue-600 hover:underline">Terms and Conditions</a>. I understand that I am responsible for providing a valid ERC20 wallet address and that any errors in the provided address may result in permanent loss of funds.
                                </label>
                            </div>
                        </div>
                        
                        <div class="mt-8">
                            <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105">
Complete Process
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-gray-900 to-gray-800 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex flex-col items-center">
                <div class="flex items-center text-gray-400 mb-2">
                    <i class="fas fa-map-marker-alt mr-3"></i>
                    <span>123 Financial District, San Francisco, CA 94111</span>
                </div>
                <div class="flex items-center gap-3 mt-2">
                    <img src="../img/META MASK.png" alt="MetaMask" class="h-7 w-7 object-contain rounded shadow">
                    <span class="font-semibold text-gray-200 text-xs">MetaMask</span>
                </div>
                <div class="flex items-center gap-3 mt-2">
                    <img src="../img/META MASK.png" alt="MetaMask" class="h-7 w-7 object-contain rounded shadow">
                    <span class="font-semibold text-gray-200 text-xs">MetaMask</span>
                </div>
                <div class="text-gray-400 text-xs">
                    <p> 2025 USDT-FLASH All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal for Payment Warning -->
    <div id="paymentWarningModal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="bg-gradient-to-br from-gray-900 to-gray-800 border border-yellow-500/30 rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all overflow-hidden">
            <div class="relative text-center">
                <!-- Tether logo watermark with animation -->
                <div class="absolute inset-0 flex items-center justify-center opacity-15 pointer-events-none overflow-hidden">
                    <div class="tether-logo-container">
                        <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="tether-logo" alt="USDT Logo">
                    </div>
                </div>
                
                <!-- Decorative elements -->
                <div class="absolute -top-4 -left-4 w-20 h-20 bg-yellow-500/10 rounded-full blur-xl"></div>
                <div class="absolute -bottom-4 -right-4 w-24 h-24 bg-yellow-500/10 rounded-full blur-xl"></div>
                
                <!-- Additional Tether branding elements -->
                <div class="absolute top-0 right-0 w-16 h-16">
                    <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-full h-full opacity-20" alt="USDT Logo">
                </div>
                <div class="absolute bottom-0 left-0 w-16 h-16">
                    <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-full h-full opacity-20" alt="USDT Logo">
                </div>
                
                <!-- Icon container with warning icon -->
                <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-r from-yellow-500/20 to-yellow-600/10 mb-6 relative">
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-yellow-500/30 to-yellow-600/20 blur-md"></div>
                    <i class="fas fa-exclamation-triangle text-yellow-500 text-3xl relative z-10"></i>
                </div>
                
                <h3 class="text-xl font-bold text-white mb-4">Payment Required</h3>
                <p class="text-gray-200 mb-4 leading-relaxed">You must complete the payment process before submitting your account information.</p>
                <p class="text-gray-200 mb-4 leading-relaxed">Please return to the payment page and complete your transaction to continue with the registration process.</p>
                <p class="text-gray-200 mb-6 leading-relaxed">If you've already made a payment but are still seeing this message, please contact our support team.</p>
                
                <!-- Tether logo and label -->
                <div class="flex justify-center items-center mb-6">
                    <div class="h-px w-12 bg-gradient-to-r from-transparent via-yellow-500/50 to-transparent"></div>
                    <div class="flex items-center mx-3">
                        <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-5 h-5 mr-2" alt="USDT Logo">
                        <div class="text-yellow-500 text-xs uppercase tracking-wider font-semibold">Secure Transaction Required</div>
                    </div>
                    <div class="h-px w-12 bg-gradient-to-r from-transparent via-yellow-500/50 to-transparent"></div>
                </div>
                
                <div class="mb-6">
                    <button id="supportBtnWarning" class="flex items-center justify-center mx-auto mb-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition transform hover:scale-105 shadow-lg">
                        <i class="fas fa-headset mr-2"></i> Contact Support
                    </button>
                </div>
                
                <button id="goToPayment" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105 shadow-lg">
                    <i class="fas fa-credit-card mr-2"></i> Go to Payment
                </button>
                
                <button id="closeWarningModal" class="mt-4 text-gray-400 hover:text-white font-medium py-2 px-4 transition">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Modal for Payment Success -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
        <div class="bg-gradient-to-br from-gray-900 to-gray-800 border border-[#53AE94]/30 rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all overflow-hidden">
            <div class="relative text-center">
                <!-- Tether logo watermark with animation -->
                <div class="absolute inset-0 flex items-center justify-center opacity-15 pointer-events-none overflow-hidden">
                    <div class="tether-logo-container">
                        <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="tether-logo" alt="USDT Logo">
                    </div>
                </div>
                
                <style>
                    .tether-logo-container {
                        position: relative;
                        width: 100%;
                        height: 100%;
                    }
                    .tether-logo {
                        position: absolute;
                        width: 180px;
                        height: 180px;
                        opacity: 0.12;
                        animation: float 8s ease-in-out infinite, pulse 6s ease-in-out infinite;
                    }
                    @keyframes float {
                        0% {
                            transform: translateY(0px) rotate(0deg);
                        }
                        50% {
                            transform: translateY(-15px) rotate(5deg);
                        }
                        100% {
                            transform: translateY(0px) rotate(0deg);
                        }
                    }
                    @keyframes pulse {
                        0% {
                            opacity: 0.08;
                        }
                        50% {
                            opacity: 0.15;
                        }
                        100% {
                            opacity: 0.08;
                        }
                    }
                </style>
                
                <!-- Decorative elements -->
                <div class="absolute -top-4 -left-4 w-20 h-20 bg-[#53AE94]/10 rounded-full blur-xl"></div>
                <div class="absolute -bottom-4 -right-4 w-24 h-24 bg-[#53AE94]/10 rounded-full blur-xl"></div>
                
                <!-- Additional Tether branding elements -->
                <div class="absolute top-0 right-0 w-16 h-16">
                    <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-full h-full opacity-20" alt="USDT Logo">
                </div>
                <div class="absolute bottom-0 left-0 w-16 h-16">
                    <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-full h-full opacity-20" alt="USDT Logo">
                </div>
                
                <!-- Icon container with success icon -->
                <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-gradient-to-r from-[#53AE94]/20 to-[#53AE94]/10 mb-6 relative">
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-[#53AE94]/30 to-[#53AE94]/20 blur-md"></div>
                    <i class="fas fa-check-circle text-[#53AE94] text-3xl relative z-10"></i>
                </div>
                
                <h3 class="text-xl font-medium text-white mb-4">Hello,</h3>
                <p class="text-gray-200 mb-4 leading-relaxed">We would like to inform you that your payment has been successful, and your USDT FLASH balance will be added to your wallet shortly.</p>
                <p class="text-gray-200 mb-4 leading-relaxed">If you do not receive your balance within the expected period, please contact our customer support for assistance.</p>
                <p class="text-gray-200 mb-6 leading-relaxed">Thank you for your trust!</p>
                
                <!-- Tether logo and label -->
                <div class="flex justify-center items-center mb-6">
                    <div class="h-px w-12 bg-gradient-to-r from-transparent via-[#53AE94]/50 to-transparent"></div>
                    <div class="flex items-center mx-3">
                        <img src="../img/usdt_cryptocurrencies_icon_188337.png" class="w-5 h-5 mr-2" alt="USDT Logo">
                        <div class="text-[#53AE94] text-xs uppercase tracking-wider font-semibold">Secured Transaction</div>
                    </div>
                    <div class="h-px w-12 bg-gradient-to-r from-transparent via-[#53AE94]/50 to-transparent"></div>
                </div>
                
                <div class="mb-6">
                    <button id="supportBtn" class="flex items-center justify-center mx-auto mb-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition transform hover:scale-105 shadow-lg">
                        <i class="fas fa-headset mr-2"></i> Contact Support
                    </button>
                </div>
                
                <button id="closeModal" class="bg-[#53AE94] hover:bg-[#3d8b73] text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105 shadow-lg">
                    I Understand
                </button>
            </div>
        </div>
    </div>

    <!-- USDT-FLASH Assistant Chat Button -->
    <button id="assistant-float-btn" class="fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg p-4 flex items-center justify-center transition-all duration-200 focus:outline-none" title="USDT-FLASH Assistant" style="box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
        <i class="fas fa-headset text-2xl"></i>
    </button>

    <!-- Chatbox Container (hidden by default) -->
    <div id="chatbox-container" class="fixed bottom-24 right-6 z-50 w-80 max-w-full bg-white rounded-xl shadow-2xl border border-green-200 overflow-hidden flex flex-col" style="display:none;">
        <div class="bg-green-600 text-white px-4 py-2 flex items-center justify-between">
            <span class="font-bold">USDT-FLASH Assistant</span>
            <button id="close-chatbox" class="text-white hover:text-gray-200 text-lg focus:outline-none" title="Close Chat">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="chatbox" class="p-4 flex-1 overflow-y-auto" style="min-height: 200px; max-height: 340px;">
            <div class="message-wrapper assistant-message-wrapper">
                <div class="message-content assistant-message">
                    Welcome to USDT-FLASH support! How can I assist you today?
                    <div class="text-xs text-gray-500 mt-1" style="direction: ltr; text-align: left;">I'm here to help you with any inquiries about your account or our services.</div>
                </div>
                <div class="message-time">
                    <script>document.write(new Date().toLocaleTimeString('en-US', {hour: '2-digit', minute:'2-digit', hour12: true}))</script>
                </div>
            </div>
        </div>
        <div class="p-2 bg-gray-50 border-t">
            <!-- Quick Questions Buttons -->
            <div id="quickQuestions" class="flex flex-wrap gap-2 mb-2 overflow-x-auto pb-2 scrollbar-thin">
                <button onclick="quickQuestion('What are the supported trading platforms?')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1 whitespace-nowrap">
                    <i class="fas fa-exchange-alt mr-1"></i> Supported Platforms
                </button>
                <button onclick="quickQuestion('How to avoid account ban?')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1 whitespace-nowrap">
                    <i class="fas fa-shield-alt mr-1"></i> Avoid Ban
                </button>
                <button onclick="quickQuestion('What is USDT FLASH validity period?')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1 whitespace-nowrap">
                    <i class="far fa-clock mr-1"></i> Validity Period
                </button>
                <button onclick="quickQuestion('How to use Web3 wallet?')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1 whitespace-nowrap">
                    <i class="fas fa-wallet mr-1"></i> Web3 Wallet
                </button>
                <button onclick="quickQuestion('What is the best trading strategy?')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-full px-3 py-1 whitespace-nowrap">
                    <i class="fas fa-chart-line mr-1"></i> Trading Strategy
                </button>
            </div>
            
            <!-- Input Area -->
            <div class="flex gap-2">
                <input type="text" id="chatInput" class="flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-400" placeholder="اكتب رسالتك هنا...">
                <button id="sendButton" class="bg-green-600 hover:bg-green-700 text-white rounded-lg px-4 py-2 font-semibold text-sm flex items-center">
                    <i class="fas fa-paper-plane ml-1"></i>
                    <span>إرسال</span>
                </button>
            </div>
        </div>
    </div>

    <script src="../js/app.js"></script>
    <script src="../js/account-info.js"></script>
    <script>
        // Simple chat functionality with predefined responses
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded - Initializing chat...');
            
            // Get elements
            const chatBtn = document.getElementById('assistant-float-btn');
            const chatContainer = document.getElementById('chatbox-container');
            const closeBtn = document.getElementById('close-chatbox');
            const sendButton = document.getElementById('sendButton');
            const chatInput = document.getElementById('chatInput');
            const chatbox = document.getElementById('chatbox');
            
            //// Detect user language (English only)
            function detectLanguage(text) {
                // Default to English
                return 'en';
            }

            // Predefined responses in English
            const responses = {
                // Default response
                'default': {
                    en: 'Sorry, I did not understand your request. You can ask about: Supported platforms, USDT FLASH validity, How to earn profits, Fees and commissions, or Customer support'
                },
                
                // Account ban prevention
                'account_ban': {
                    en: 'Important guidelines to avoid account suspension:\n1. After purchasing meme coins (like PEPE, DOGE, SHIBA), keep them in your wallet for at least 24 hours before selling\n2. Do not sell coins immediately after purchase\n3. Use a trusted Web3 wallet like MetaMask or Trust Wallet\n4. Avoid depositing USDT FLASH on trading platforms - use only Web3 wallets\n5. Remember that USDT FLASH will automatically disappear if left on a trading platform for more than 1 hour'
                },
                
                // Web3 wallet info
                'web3_wallet': {
                    en: 'You must use a Web3 wallet like MetaMask or Trust Wallet to store USDT FLASH. Do not leave the token on trading platforms as it will disappear after 1 hour.'
                },
                
                // Transfer guide
                'transfer_guide': {
                    en: 'To transfer USDT FLASH:\n1. Open your Web3 wallet\n2. Select USDT FLASH\n3. Press Send\n4. Enter address and amount\n5. Verify the network\n6. Confirm the transaction'
                },
                
                // Trading tips
                'trading_tips': {
                    en: 'Safe trading tips:\n1. Research the market before buying\n2. Don\'t invest more than you can afford to lose\n3. Use stop-loss orders\n4. Diversify your investments'
                },
                
                // Trading coins
                'trading_coins': {
                    en: 'To buy/sell coins:\n1. Go to a trusted exchange\n2. Find the desired trading pair\n3. Enter the amount\n4. Verify price and fees\n5. Confirm the trade'
                },
                
                // Meme coins info
                'meme_coins': {
                    en: 'Why are meme coins a good investment?\n\n1. High Liquidity: Coins like PEPE, DOGE, and SHIBA have high trading volume\n2. Market Volatility: Offer quick profit opportunities due to price swings\n3. Popularity: Large community support drives value\n4. Easy to Trade: Available on most major exchanges\n5. Quick Returns: Potential for faster profits compared to traditional assets\n\nTip: Hold coins for at least 24 hours before selling to avoid account suspension'
                },
                
                // Greetings
                'hello': {
                    en: 'Welcome to USDT FLASH support! How can I assist you today?'
                },
                'hi': {
                    en: 'Hi! How can I help you?'
                },
                
                // Platforms
                'supported_platforms': {
                    en: 'Currently supported platforms:\n- Binance\n- Trust Wallet\n- Bybit\n- MetaMask\n- All Web3 wallets compatible with BSC network'
                },
                
                // Validity and Usage
                'validity': {
                    en: 'USDT FLASH validity is 365 days from the date of receipt. Note: When selling, the platform will deduct a 25% fee from the transferred amount.'
                },
                'expiration': {
                    en: 'Upon expiration, you will not be able to use the token. We recommend using it before the expiration date to avoid losing its value. You can use it to buy and sell cryptocurrencies.'
                },
                'fees': {
                    en: 'When selling USDT FLASH, the receiving platform will deduct a 25% fee from the transferred amount. This fee covers the processing costs on the platform.'
                },
                
                // Usage Recommendations and Trading Tips
                'advice': {
                    en: 'Tips for using USDT FLASH:\n• Check transfer fees before sending\n• Verify wallet addresses\n• Use BSC network for lower fees\n• Keep records of your transactions'
                },
                'trading_strategy': {
                    en: 'To maximize benefits from USDT FLASH:\n• Use it for stablecoin trading pairs\n• Invest in promising projects on BSC\n• Take advantage of platform trading offers\n• Monitor the market for best returns'
                },
                
                // Support
                'technical support': {
                    en: 'For technical support, please contact us via:\n- Email: support@usdt-flash.com\n- Or through the contact form on the website'
                },
                'support': {
                    ar: 'يمكنك التواصل مع الدعم عبر البريد الإلكتروني: support@usdt-flash.com',
                    en: 'You can contact support at: support@usdt-flash.com'
                },
                'اتصل بنا': {
                    ar: 'للتواصل معنا:\n- البريد الإلكتروني: support@usdt-flash.com\n- نموذج الاتصال في الموقع',
                    en: 'Contact us at:\n- Email: support@usdt-flash.com\n- Contact form on the website'
                },
                'contact': {
                    ar: 'للتواصل: support@usdt-flash.com',
                    en: 'Contact: support@usdt-flash.com'
                },
                
                // Thanks
                'شكرا': {
                    ar: 'العفو! نحن هنا لمساعدتك دائمًا. هل هناك أي شيء آخر تريد معرفته عن USDT FLASH؟',
                    en: "You're welcome! We're always here to help. Is there anything else you'd like to know about USDT FLASH?"
                },
                'thank': {
                    ar: 'شكراً لكم! هل هناك أي استفسار آخر؟',
                    en: 'Thank you! Do you have any other questions?'
                },
                'thanks': {
                    ar: 'شكراً لك! كيف يمكنني مساعدتك أكثر؟',
                    en: 'Thanks! How else can I assist you?'
                },
                'ممتاز': {
                    ar: 'شكراً لك! هل هناك أي استفسار آخر يمكنني مساعدتك به؟',
                    en: 'Great! Is there anything else I can help you with?'
                },
                'great': {
                    ar: 'رائع! هل تحتاج إلى مساعدة إضافية؟',
                    en: 'Great! Do you need any further assistance?'
                },
                
                // Default
                'default': {
                    ar: 'عذراً، لم أفهم سؤالك. هل يمكنك إعادة صياغته؟ أو ربما تريد معرفة المزيد عن:\n- صلاحية USDT FLASH\n- المنصات المدعومة\n- كيفية تحقيق أقصى استفادة\n- رسوم البيع',
                    en: "I'm sorry, I didn't understand your question. Could you rephrase it? Or perhaps you'd like to know about:\n- USDT FLASH validity\n- Supported platforms\n- How to maximize benefits\n- Selling fees"
                }
            };
            
            // Toggle chat window
            if (chatBtn && chatContainer) {
                chatBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    const isHidden = chatContainer.style.display === 'none' || !chatContainer.style.display;
                    chatContainer.style.display = isHidden ? 'flex' : 'none';
                    if (isHidden && chatInput) {
                        setTimeout(() => chatInput.focus(), 100);
                    }
                });
            }
            
            // Close chat window
            if (closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (chatContainer) chatContainer.style.display = 'none';
                });
            }
            
            // Get response function with language support
            function getResponse(message, lang = 'en') {
                const lowerMessage = message.toLowerCase();
                
                // Common phrases and their responses
                const commonPhrases = {
                    // Account related
                    'حظر حسابي|تجنب الحظر|تجنب ايقاف الحساب|حماية الحساب': 'account_ban',
                    'how to avoid ban|account block|prevent suspension|account security': 'account_ban',
                    
                    // Wallet related
                    'محفظة|محفظة ويب 3|web3 wallet|wallet|trust wallet|metamask': 'web3_wallet',
                    'تحويل فلاش|ارسال فلاش|استلام فلاش|send flash|receive flash|transfer flash': 'transfer_guide',
                    
                    // General help
                    'مساعدة|مساعدة فنية|دعم فني|help|support|technical support': 'help_support',
                    'شروط الاستخدام|الاحكام والشروط|terms of service|terms and conditions': 'terms',
                    
                    // Validity and fees
                    'الصلاحية|انتهاء الصلاحية|validity|expiration': 'validity_info',
                    'الرسوم|العمولة|fees|commission|charges': 'fees_info',
                    
                    // Trading
                    'تداول|تداول العملات|trading|how to trade': 'trading_tips',
                    'شراء عملات|بيع عملات|buy coins|sell coins': 'trading_coins'
                };

                // Check for common phrases first
                for (const [pattern, responseKey] of Object.entries(commonPhrases)) {
                    const regex = new RegExp(pattern, 'i');
                    if (regex.test(message)) {
                        const response = responses[responseKey];
                        if (response) {
                            return response[lang] || response.en || response.ar;
                        }
                    }
                }

                // Check for exact matches
                if (responses[message]) {
                    return responses[message][lang] || responses[message].en || responses[message].ar;
                }

                // Check for partial matches
                for (const [key, response] of Object.entries(responses)) {
                    if (lowerMessage.includes(key.toLowerCase())) {
                        return response[lang] || response.en || response.ar;
                    }
                }

                // Check for number patterns
                if (/\d+/.test(lowerMessage)) {
                    return lang === 'ar' 
                        ? 'للمساعدة في استفسارك، يرجى تقديم المزيد من التفاصيل عن المعاملة أو المبلغ المذكور.'
                        : 'To assist with your inquiry, please provide more details about the transaction or amount mentioned.';
                }

                // Default response
                return responses['default'][lang] || responses['default'].en;
            }
            
            // Display message in chat
            function displayMessage(message, isUser) {
                if (!chatbox) return;
                
                // Create message wrapper
                const messageWrapper = document.createElement('div');
                messageWrapper.className = `message-wrapper ${isUser ? 'user-message-wrapper' : 'assistant-message-wrapper'}`;
                
                // Create message content container
                const messageContent = document.createElement('div');
                messageContent.className = `message-content ${isUser ? 'user-message' : 'assistant-message'}`;
                
                // Add message text
                const messageText = document.createElement('div');
                messageText.textContent = message;
                messageText.style.direction = 'ltr';
                messageText.style.textAlign = 'left';
                
                // Add timestamp
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: true
                });
                
                const timeElement = document.createElement('div');
                timeElement.className = 'message-time';
                timeElement.textContent = timeString;
                timeElement.style.direction = 'ltr';
                
                // Assemble the message
                messageContent.appendChild(messageText);
                messageWrapper.appendChild(messageContent);
                messageWrapper.appendChild(timeElement);
                
                // Add to chatbox
                chatbox.appendChild(messageWrapper);
                
                // Scroll to bottom
                chatbox.scrollTop = chatbox.scrollHeight;
                
                // Return the message element in case we need to modify it later
                return messageWrapper;
            }
            
            // Show typing indicator
            function showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'typing-indicator';
                typingDiv.id = 'typing-indicator';
                typingDiv.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                chatbox.appendChild(typingDiv);
                chatbox.scrollTop = chatbox.scrollHeight;
                return typingDiv;
            }

            // Hide typing indicator
            function hideTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }

            // Animate message typing
            function typeMessage(message, element, callback) {
                let i = 0;
                const typingSpeed = 20; // milliseconds per character
                
                function typeWriter() {
                    if (i < message.length) {
                        element.textContent += message.charAt(i);
                        i++;
                        chatbox.scrollTop = chatbox.scrollHeight;
                        setTimeout(typeWriter, typingSpeed);
                    } else if (callback) {
                        callback();
                    }
                }
                
                typeWriter();
            }


            // Function to handle quick question buttons
            function quickQuestion(question) {
                const chatInput = document.getElementById('chatInput');
                const sendButton = document.getElementById('sendButton');
                
                if (chatInput) {
                    // Set the question in the input
                    chatInput.value = question;
                    
                    // Trigger the send message function directly
                    if (typeof sendMessage === 'function') {
                        sendMessage();
                    } 
                    // Fallback to click the send button
                    else if (sendButton) {
                        sendButton.click();
                    }
                }
            }

            // Track user's language preference
            let userLanguage = 'en'; // Default to English
            let languageDetected = false;
            
            // Send message function
            async function sendMessage() {
                if (!chatInput || !chatbox) return;
                
                const userMessage = chatInput.value.trim();
                if (!userMessage) return;
                
                // Detect language from first message if not already detected
                if (!languageDetected) {
                    userLanguage = detectLanguage(userMessage);
                    languageDetected = true;
                    
                    // Update chat direction based on language
                    if (userLanguage === 'ar') {
                        chatbox.style.direction = 'rtl';
                        chatbox.style.textAlign = 'right';
                    } else {
                        chatbox.style.direction = 'ltr';
                        chatbox.style.textAlign = 'left';
                    }
                }
                
                // Display user message
                const userMessageWrapper = displayMessage(userMessage, true);
                
                // Set direction for user message
                const userMessageContent = userMessageWrapper.querySelector('.message-content');
                userMessageContent.style.direction = userLanguage === 'ar' ? 'rtl' : 'ltr';
                userMessageContent.style.textAlign = userLanguage === 'ar' ? 'right' : 'left';
                
                // Clear input
                chatInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Simulate processing time (0.5-1.5 seconds)
                const processingTime = 500 + Math.random() * 1000;
                
                setTimeout(() => {
                    // Get response in user's language
                    const response = getResponse(userMessage, userLanguage);
                    
                    // Hide typing indicator
                    hideTypingIndicator();
                    
                    // Display assistant's message with typing effect
                    const messageWrapper = displayMessage('', false);
                    const messageContent = messageWrapper.querySelector('.message-content');
                    messageContent.textContent = ''; // Clear the initial empty message
                    
                    // Set direction for assistant's response
                    messageContent.style.direction = userLanguage === 'ar' ? 'rtl' : 'ltr';
                    messageContent.style.textAlign = userLanguage === 'ar' ? 'right' : 'left';
                    
                    // Type out the response
                    typeMessage(response, messageContent, () => {
                        // After typing is complete, ensure we're scrolled to the bottom
                        chatbox.scrollTop = chatbox.scrollHeight;
                    });
                }, processingTime);
            }
            
            // Send button click
            if (sendButton) {
                sendButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    sendMessage();
                });
            }
            
            // Handle Enter key in input
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        sendMessage();
                    }
                });
            }
            
            // No need for additional welcome message as it's now in HTML
            console.log('Chat initialization complete');
        });
    </script>
</body>
</html>